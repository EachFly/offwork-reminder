# 加班提醒助手 (Overtime Reminder)

一个 Chrome 扩展插件，通过 Windows 系统通知提醒你已经加班多久了，督促你按时下班回家。

## ✨ 功能特性

- 🔔 **Windows 系统通知** - 通过 Chrome 通知 API 发送 Windows 右侧通知栏提醒
- ⏰ **自定义下班时间** - 灵活设置你的下班时间
- 🔄 **可配置提醒频率** - 支持 1-120 分钟的提醒间隔
- 💬 **多条自定义提示语** - 配置多条个性化提示语，每次随机选择
- 🎨 **动态生成图标** - 使用 Canvas 生成紫色渐变时钟图标
- 🧪 **测试通知功能** - 方便验证配置是否生效

## 📦 安装步骤

1. 克隆或下载本项目到本地
2. 打开 Chrome 浏览器，访问 `chrome://extensions/`
3. 开启右上角的「**开发者模式**」
4. 点击「**加载已解压的扩展程序**」
5. 选择项目目录

## 🚀 使用说明

### 基础配置

1. 点击浏览器工具栏的插件图标
2. 设置你的下班时间（默认 18:00）
3. 设置提醒频率（默认 30 分钟）
4. 添加自定义提示语（可添加多条）
5. 点击「保存设置」

### 提示语说明

- **固定前缀**：`你已加班{hours}小时{minutes}分钟，别忘了回家！`（不可修改）
- **自定义追加**：可配置多条个性化提示语，每次通知随机选择一条追加在固定前缀后面

**示例效果：**

```
你已加班2小时30分钟，别忘了回家！
注意休息，保重身体！
```

### 测试通知

点击设置页面底部的「🔔 测试通知」按钮，验证通知是否正常显示。

## 🛠️ 技术栈

- **Manifest V3** - Chrome 扩展最新版本规范
- **Service Worker** - 后台定时任务处理
- **Chrome Alarms API** - 定时提醒
- **Chrome Notifications API** - 系统通知
- **Chrome Storage API** - 配置持久化
- **OffscreenCanvas** - 动态图标生成

## 📁 项目结构

```
offwork-reminder/
├── manifest.json          # 扩展配置文件
├── background.js          # 后台服务脚本
├── popup.html             # 设置页面 HTML
├── popup.css              # 设置页面样式
├── popup.js               # 设置页面逻辑
├── generate_icons.js      # 图标生成脚本
└── icons/                 # 扩展图标资源
    ├── icon16.png
    ├── icon48.png
    └── icon128.png
```

## ⚠️ 故障排除

### 通知不显示

如果点击测试通知后没有看到 Windows 右侧弹窗，请检查：

**1. Windows 通知权限**

- Windows 设置 → 系统 → 通知和操作
- 确保「获取来自应用和其他发送者的通知」已开启
- 找到「Google Chrome」，确保开关已打开
- 点击 Chrome 进入详情，确保「显示通知横幅」已勾选

**2. 专注助手设置**

- Windows 设置 → 系统 → 专注助手
- 临时设为「关」进行测试

**3. Chrome 通知设置**

- 访问 `chrome://settings/content/notifications`
- 确保通知未被阻止

## 📝 开发日志

### v1.0.0

- ✅ 基础通知功能
- ✅ 下班时间配置
- ✅ 提醒频率配置
- ✅ 多条自定义提示语
- ✅ Canvas 动态图标生成
- ✅ 测试通知功能

## 📄 License

MIT License

## 🤝 贡献

欢迎提交 Issue 和 Pull Request！

---

**温馨提示**：工作重要，健康更重要。记得按时下班，保重身体！💪
